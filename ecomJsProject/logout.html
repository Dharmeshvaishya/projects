<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Home</title>
  </head>
  <body>
    <h2>Welcome, <span id="user-name">User</span></h2>
    <button onclick="logout()">Logout</button>

    <script>
      // Protect the page
      if (sessionStorage.getItem("loggedIn") !== "true") {
        alert("You must be logged in to view this page.");
        window.location.href = "index.html"; // redirect to login
      }

      // Show logged-in user name
      const user = JSON.parse(sessionStorage.getItem("currentUser"));
      document.getElementById("user-name").textContent =
        user?.username || "User";

      // Logout function
      function logout() {
        sessionStorage.clear();
        alert("You have been logged out.");
        window.location.href = "index.html"; // back to login page
      }
    </script>
  </body>
</html>
